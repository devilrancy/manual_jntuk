<ion-view title="Program-11">
  <ion-content class="has-header">
  	<div class="item item-divider item-dark">
      AIM
    </div>
    <div class="card ">
    	<p>
        To implement pattern matching using Boyer-Moore algorithm.
		  </p>
    </div>
    <div class="item item-divider item-dark">
      PROGRAM
    </div>
    <div class="card">
    	 <div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_c snippet-formatted sh_sourceCode"><ul class="snippet-no-num"><li><span class="sh_preproc"># include</span> <span class="sh_string">&lt;limits.h&gt;</span></li><li><span class="sh_preproc"># include</span> <span class="sh_string">&lt;string.h&gt;</span></li><li><span class="sh_preproc"># include</span> <span class="sh_string">&lt;stdio.h&gt;</span></li><li><span class="sh_preproc"># include</span> <span class="sh_string">&lt;stdlib.h&gt;</span></li><li><span class="sh_type">int</span> <span class="sh_function">max</span> <span class="sh_symbol">(</span><span class="sh_type">int</span> a<span class="sh_symbol">,</span> <span class="sh_type">int</span> b<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span> <span class="sh_keyword">return</span> <span class="sh_symbol">(</span>a <span class="sh_symbol">&gt;</span> b<span class="sh_symbol">)?</span> a<span class="sh_symbol">:</span> b<span class="sh_symbol">;</span> <span class="sh_cbracket">}</span></li><li><span class="sh_type">void</span> <span class="sh_function">search</span><span class="sh_symbol">(</span><span class="sh_type">char</span> <span class="sh_symbol">*,</span><span class="sh_type">char</span> <span class="sh_symbol">*);</span></li><li><span class="sh_type">void</span> <span class="sh_function">last</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>str<span class="sh_symbol">,</span> <span class="sh_type">int</span> size<span class="sh_symbol">,</span> <span class="sh_type">int</span> badchar<span class="sh_symbol">[</span><span class="sh_number">20</span><span class="sh_symbol">])</span></li><li><span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_type">int</span> i<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">for</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> <span class="sh_number">20</span><span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span></li><li>         badchar<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">for</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> size<span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span></li><li>         badchar<span class="sh_symbol">[(</span><span class="sh_type">int</span><span class="sh_symbol">)</span> str<span class="sh_symbol">[</span>i<span class="sh_symbol">]]</span> <span class="sh_symbol">=</span> i<span class="sh_symbol">;</span></li><li><span class="sh_cbracket">}</span></li><li></li><li><span class="sh_type">void</span> <span class="sh_function">search</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>txt<span class="sh_symbol">,</span>  <span class="sh_type">char</span> <span class="sh_symbol">*</span>pat<span class="sh_symbol">)</span></li><li><span class="sh_cbracket">{</span></li><li>    <span class="sh_type">int</span> m <span class="sh_symbol">=</span> <span class="sh_function">strlen</span><span class="sh_symbol">(</span>pat<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_type">int</span> n <span class="sh_symbol">=</span> <span class="sh_function">strlen</span><span class="sh_symbol">(</span>txt<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_type">int</span> badchar<span class="sh_symbol">[</span><span class="sh_number">20</span><span class="sh_symbol">];</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_type">int</span> s<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">last</span><span class="sh_symbol">(</span>pat<span class="sh_symbol">,</span> m<span class="sh_symbol">,</span> badchar<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">while</span><span class="sh_symbol">(</span>s<span class="sh_symbol">&lt;=(</span>n <span class="sh_symbol">-</span> m<span class="sh_symbol">))</span></li><li>    <span class="sh_cbracket">{</span></li><li>      </li><li>  <span class="sh_type">int</span> j <span class="sh_symbol">=</span> m<span class="sh_number">-1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">while</span><span class="sh_symbol">(</span>j <span class="sh_symbol">&gt;=</span> <span class="sh_number">0</span> <span class="sh_symbol">&amp;&amp;</span> pat<span class="sh_symbol">[</span>j<span class="sh_symbol">]</span> <span class="sh_symbol">==</span> txt<span class="sh_symbol">[</span>s<span class="sh_symbol">+</span>j<span class="sh_symbol">])</span></li><li>            j<span class="sh_symbol">--;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>j <span class="sh_symbol">&lt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span></li><li>        <span class="sh_cbracket">{</span></li><li>            <span class="sh_function">printf</span><span class="sh_symbol">(</span><span class="sh_string">"</span><span class="sh_specialchar">\n</span><span class="sh_string"> pattern occurs at shift = %d"</span><span class="sh_symbol">,</span> s<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s <span class="sh_symbol">+=</span> <span class="sh_symbol">(</span>s<span class="sh_symbol">+</span>m <span class="sh_symbol">&lt;</span> n<span class="sh_symbol">)?</span> m<span class="sh_symbol">-</span>badchar<span class="sh_symbol">[</span>txt<span class="sh_symbol">[</span>s<span class="sh_symbol">+</span>m<span class="sh_symbol">]]</span> <span class="sh_symbol">:</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_keyword">else</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s <span class="sh_symbol">+=</span> <span class="sh_function">max</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> j <span class="sh_symbol">-</span> badchar<span class="sh_symbol">[</span>txt<span class="sh_symbol">[</span>s<span class="sh_symbol">+</span>j<span class="sh_symbol">]]);</span></li><li>    <span class="sh_cbracket">}</span></li><li><span class="sh_cbracket">}</span></li><li><span class="sh_type">void</span> <span class="sh_function">main</span><span class="sh_symbol">()</span></li><li><span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_type">char</span> string<span class="sh_symbol">[</span><span class="sh_number">20</span><span class="sh_symbol">],</span>pat<span class="sh_symbol">[</span><span class="sh_number">20</span><span class="sh_symbol">];</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">system</span><span class="sh_symbol">(</span><span class="sh_string">"cls"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">printf</span><span class="sh_symbol">(</span><span class="sh_string">"Enter string</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">gets</span><span class="sh_symbol">(</span>string<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">printf</span><span class="sh_symbol">(</span><span class="sh_string">"Enter SubString</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">gets</span><span class="sh_symbol">(</span>pat<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">search</span><span class="sh_symbol">(</span>string<span class="sh_symbol">,</span> pat<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_function">getch</span><span class="sh_symbol">();</span></li><li><span class="sh_cbracket">}</span></li></ul></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable=""># include &lt;limits.h&gt;
# include &lt;string.h&gt;
# include &lt;stdio.h&gt;
# include &lt;stdlib.h&gt;
int max (int a, int b) { return (a &gt; b)? a: b; }
void search(char *,char *);
void last( char *str, int size, int badchar[20])
{
  int i;
  for (i = 0; i &lt; 20; i++)
         badchar[i] = -1;
  for (i = 0; i &lt; size; i++)
         badchar[(int) str[i]] = i;
}

void search( char *txt,  char *pat)
{
    int m = strlen(pat);
  int n = strlen(txt);
  int badchar[20];
  int s=0;
  last(pat, m, badchar);
  while(s&lt;=(n - m))
    {
      
  int j = m-1;
    while(j &gt;= 0 &amp;&amp; pat[j] == txt[s+j])
            j--;
    if (j &lt; 0)
        {
            printf("\n pattern occurs at shift = %d", s);
      s += (s+m &lt; n)? m-badchar[txt[s+m]] : 1;
     }
     else
       s += max(1, j - badchar[txt[s+j]]);
    }
}
void main()
{
  char string[20],pat[20];
  system("cls");
  printf("Enter string\n");
  gets(string);
  printf("Enter SubString\n");
  gets(pat);
  search(string, pat);
  getch();
}
</pre></div></div>
    </div>
    <div class="item item-divider item-dark">
      OUTPUT
    </div>
    <div class="card">
    	<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_c snippet-formatted sh_sourceCode"><ul class="snippet-no-num"><li><span class="sh_usertype">Enter</span><span class="sh_normal"> </span>String<span class="sh_symbol">:</span></li><li></li><li>devilnaresh</li><li><span class="sh_usertype">Enter</span><span class="sh_normal"> </span>substring<span class="sh_symbol">:</span></li><li>naresh</li><li>Pattern occurs <span class="sh_usertype">at</span><span class="sh_normal"> </span>shift <span class="sh_symbol">=</span> <span class="sh_number">5</span></li></ul></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">Enter String:

devilnaresh
Enter substring:
naresh
Pattern occurs at shift = 5
</pre></div></div>
    </div>
  </ion-content>
</ion-view>
